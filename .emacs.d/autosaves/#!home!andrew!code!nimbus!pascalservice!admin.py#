import os

from inspect import isclass

from django.contrib import admin
from django.contrib.admin.views.main import ChangeList
from django.core.exceptions import ObjectDoesNotExist

from pascalservice.models import *
from pascalservice import tasks
from django import forms
from nimbusapp.forms import JSONDictWidget
from libs.validators import validate_json
from libs.util import form_fields, templates
from datastore import ds
from datastore.mongo import Document

class SequenceInline(admin.TabularInline):
    model = EventKeySequence
    extra = 0

class AggregationAdminForm(forms.ModelForm):
    model = EventAggregation
    
class AggregationAdmin(admin.ModelAdmin):
    form = AggregationAdminForm
    inlines = [
            SequenceInline,
        ]

admin.site.register(EventAggregation, AggregationAdmin)
admin.site.register(EventKey)
